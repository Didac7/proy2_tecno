import{C as R,D as c,r as B,q as _,k as v,a as e,d as n,t as r,m as a,e as p,l as f,g as h,c as o,b as k,E as I,v as L,i as S,F as E,x as C,s as A,j as w,z as V}from"./app-DEf1IR0b.js";import{A as F}from"./AppLayout-jejGCWhL.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const M={class:"page-header"},j={class:"filters-card"},H={class:"filter-group"},$={key:0,class:"filter-group"},z={class:"table-card"},K={class:"table-responsive"},U={class:"data-table"},q={key:0},J={key:1},Q={key:2},W={key:3},X={key:4},Y={class:"codigo"},Z={key:0},ee={class:"cliente-info"},te={key:0},se={key:1},ae={class:"ruta"},oe={class:"text-secondary"},ne={key:1},re={key:2},le={key:3},ie={key:4},de={class:"action-buttons"},ue={key:2,class:"badge badge-success",title:"Pagado"},ce={key:0,class:"pagination"},_e={__name:"Index",props:{paquetes:Object,filters:Object},setup(g){const y=g,b=R(),d=c(()=>b.props.auth?.user?.tipo_usuario==="CLIENTE"),l=c(()=>b.props.auth?.user?.tipo_usuario==="CHOFER"),T=c(()=>!d.value&&!l.value),N=c(()=>!d.value&&!l.value),D=c(()=>d.value?"Mis Paquetes":l.value?"Paquetes Asignados":"GestiÃ³n de Paquetes"),u=B({search:y.filters?.search||"",estado:y.filters?.estado||""}),m=()=>{V.get("/paquetes",u.value,{preserveState:!0})},O=i=>({REGISTRADO:"info",EN_TRANSITO:"warning",ENTREGADO:"success",CANCELADO:"danger"})[i]||"secondary",x=i=>new Intl.NumberFormat("es-BO").format(i||0),P=i=>i?new Date(i).toLocaleDateString("es-BO"):"-";return(i,s)=>(a(),_(F,null,{default:v(()=>[e("div",M,[e("h1",null,"ðŸ“¦ "+r(D.value),1),T.value?(a(),_(p(f),{key:0,href:"/paquetes/create",class:"btn-primary"},{default:v(()=>[...s[2]||(s[2]=[h(" âž• Nuevo Paquete ",-1)])]),_:1})):n("",!0)]),e("div",j,[e("div",H,[k(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>u.value.search=t),type:"text",placeholder:"Buscar por cÃ³digo o destinatario...",class:"filter-input",onKeyup:I(m,["enter"])},null,544),[[L,u.value.search]]),e("button",{onClick:m,class:"btn-search"},"ðŸ” Buscar")]),!d.value&&!l.value?(a(),o("div",$,[k(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>u.value.estado=t),onChange:m,class:"filter-select"},[...s[3]||(s[3]=[e("option",{value:""},"Todos los estados",-1),e("option",{value:"REGISTRADO"},"Registrado",-1),e("option",{value:"EN_TRANSITO"},"En TrÃ¡nsito",-1),e("option",{value:"ENTREGADO"},"Entregado",-1),e("option",{value:"CANCELADO"},"Cancelado",-1)])],544),[[S,u.value.estado]])])):n("",!0)]),e("div",z,[e("div",K,[e("table",U,[e("thead",null,[e("tr",null,[s[4]||(s[4]=e("th",null,"CÃ³digo",-1)),l.value?n("",!0):(a(),o("th",q,"Cliente")),s[5]||(s[5]=e("th",null,"Destino",-1)),l.value?n("",!0):(a(),o("th",J,"Estado")),s[6]||(s[6]=e("th",null,"Contenido",-1)),l.value?n("",!0):(a(),o("th",Q,"Precio")),l.value?n("",!0):(a(),o("th",W,"Fecha")),d.value?n("",!0):(a(),o("th",X,"Acciones"))])]),e("tbody",null,[(a(!0),o(E,null,C(g.paquetes.data,t=>(a(),o("tr",{key:t.id_paquete},[e("td",null,[e("strong",Y,r(t.codigo_seguimiento),1)]),l.value?n("",!0):(a(),o("td",Z,[e("div",ee,[e("strong",null,r(t.remitente?.nombre)+" "+r(t.remitente?.apellido),1),s[7]||(s[7]=e("span",{class:"arrow"},"â†’",-1)),t.destinatario?(a(),o("span",te,r(t.destinatario.nombre)+" "+r(t.destinatario.apellido),1)):(a(),o("span",se,r(t.nombre_destinatario),1))])])),e("td",null,[e("span",ae,r(t.ruta?.destino?.ciudad),1),s[8]||(s[8]=e("br",null,null,-1)),e("small",oe,r(t.direccion_entrega),1)]),l.value?n("",!0):(a(),o("td",ne,[e("span",{class:A("badge badge-"+O(t.estado_paquete))},r(t.estado_paquete),3)])),e("td",null,r(t.descripcion_contenido),1),l.value?n("",!0):(a(),o("td",re,"Bs. "+r(x(t.precio)),1)),l.value?n("",!0):(a(),o("td",le,r(P(t.fecha_registro)),1)),d.value?n("",!0):(a(),o("td",ie,[e("div",de,[w(p(f),{href:`/paquetes/${t.id_paquete}`,class:"btn-icon",title:"Ver"},{default:v(()=>[...s[9]||(s[9]=[h(" ðŸ‘ï¸ ",-1)])]),_:1},8,["href"]),N.value?(a(),_(p(f),{key:0,href:`/paquetes/${t.id_paquete}/edit`,class:"btn-icon",title:"Editar"},{default:v(()=>[...s[10]||(s[10]=[h(" âœï¸ ",-1)])]),_:1},8,["href"])):n("",!0),!t.pago||t.pago.estado_pago!=="PAGADO"?(a(),_(p(f),{key:1,href:`/paquetes/${t.id_paquete}/pagar`,class:"btn-icon btn-pagar",title:"Pagar"},{default:v(()=>[...s[11]||(s[11]=[h(" ðŸ’³ ",-1)])]),_:1},8,["href"])):(a(),o("span",ue,"âœ“ Pagado"))])]))]))),128))])])]),g.paquetes.links.length>3?(a(),o("div",ce,[(a(!0),o(E,null,C(g.paquetes.links,t=>(a(),_(p(f),{key:t.label,href:t.url,class:A({active:t.active,disabled:!t.url}),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])):n("",!0)])]),_:1}))}},he=G(_e,[["__scopeId","data-v-3525cfe9"]]);export{he as default};
